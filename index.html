<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BilalAİ v3 - Kod Ustası</title>
    <style>
        :root {
            --bg: #0e0e10; --side: #1c1c1f; --text: #efeff1;
            --accent: #9147ff; --code-bg: #1a1a1a;
        }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; }
        #sidebar { width: 240px; background: var(--side); padding: 20px; border-right: 1px solid #333; }
        #main { flex: 1; display: flex; flex-direction: column; }
        #chat { flex: 1; overflow-y: auto; padding: 40px 15%; display: flex; flex-direction: column; gap: 20px; }
        
        .msg { display: flex; gap: 15px; animation: slide 0.3s ease; }
        @keyframes slide { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }
        
        .avatar { width: 35px; height: 35px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .ai-av { background: var(--accent); color: white; }
        .user-av { background: #3a3a3d; }

        /* GELİŞMİŞ KOD KUTUSU */
        .code-wrapper {
            position: relative; background: var(--code-bg); border: 1px solid #444;
            border-radius: 10px; margin: 15px 0; overflow: hidden;
        }
        .code-header {
            background: #2a2a2a; padding: 8px 15px; font-size: 12px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .copy-btn {
            background: var(--accent); border: none; color: white; cursor: pointer;
            padding: 4px 10px; border-radius: 4px; font-size: 11px;
        }
        pre { margin: 0; padding: 15px; overflow-x: auto; color: #e0e0e0; font-family: 'Consolas', monospace; }

        .input-box { padding: 20px 15%; background: var(--bg); }
        .inner-input {
            background: #26262c; border: 2px solid #333; border-radius: 12px;
            display: flex; padding: 10px 15px;
        }
        input { flex: 1; background: none; border: none; color: white; outline: none; font-size: 16px; }
        #send { background: none; border: none; color: var(--accent); cursor: pointer; font-size: 20px; }
    </style>
</head>
<body>

<div id="sidebar">
    <h2 style="color:var(--accent)">BilalAİ</h2>
    <p style="font-size: 12px; opacity: 0.6;">Sınırsız Kod Üretici</p>
</div>

<div id="main">
    <div id="chat">
        <div class="msg">
            <div class="avatar ai-av">B</div>
            <div class="content">Ben BilalAİ. Bana "Python ile hesap makinesi yap" veya "Javascript döngü yaz" gibi komutlar ver, anında kodunu hazırlayayım.</div>
        </div>
    </div>

    <div class="input-box">
        <div class="inner-input">
            <input type="text" id="userInput" placeholder="Hangi kodu yazmamı istersin?">
            <button id="send">➤</button>
        </div>
    </div>
</div>

<script>
    const chat = document.getElementById('chat');
    const input = document.getElementById('userInput');
    const send = document.getElementById('send');

    // KOD ÜRETME MOTORU (BILALAI ENGINE)
    function generateCode(command) {
        const cmd = command.toLowerCase();
        let code = "";
        let lang = "python";

        if(cmd.includes("python")) {
            lang = "python";
            if(cmd.includes("hesap")) code = "def topla(a,b): return a+b\nprint(topla(10,5))";
            else if(cmd.includes("liste")) code = "liste = ['elma', 'armut']\nfor x in liste:\n    print(x)";
            else code = "# BilalAI Python Kod Sistemi\nprint('İstediğin kod yapısı hazırlandı.')\n# Detaylı parametreler eklenebilir.";
        } 
        else if(cmd.includes("html") || cmd.includes("web")) {
            lang = "html";
            code = "<!DOCTYPE html>\n<html>\n<body>\n  <h1>BilalAI Tasarımı</h1>\n</body>\n</html>";
        }
        else if(cmd.includes("js") || cmd.includes("javascript")) {
            lang = "javascript";
            code = "const selamlama = () => {\n  console.log('BilalAI JS Motoru aktif');\n};\nselamlama();";
        }
        else {
            code = "// BilalAI Genel Kod Şablonu\nfunction start() {\n  return 'Kod oluşturuldu';\n}";
        }

        return { code, lang };
    }

    function copyCode(btn, text) {
        navigator.clipboard.writeText(text);
        btn.innerText = "Kopyalandı!";
        setTimeout(() => btn.innerText = "Kopyala", 2000);
    }

    function addMessage(role, text, isCode = false) {
        const div = document.createElement('div');
        div.className = 'msg';
        
        let contentHTML = `<div>${text}</div>`;
        
        if(isCode) {
            const result = generateCode(text);
            contentHTML = `
                <div style="width:100%">
                    İşte istediğin <b>${result.lang}</b> kodu:
                    <div class="code-wrapper">
                        <div class="code-header">
                            <span>${result.lang.toUpperCase()}</span>
                            <button class="copy-btn" onclick="copyCode(this, \`${result.code}\`)">Kopyala</button>
                        </div>
                        <pre><code>${result.code}</code></pre>
                    </div>
                </div>`;
        }

        div.innerHTML = `<div class="avatar ${role}-av">${role === 'ai' ? 'B' : 'S'}</div>
                         <div class="content">${contentHTML}</div>`;
        chat.appendChild(div);
        chat.scrollTop = chat.scrollHeight;
    }

    function handle() {
        const val = input.value;
        if(!val) return;
        addMessage('user', val);
        input.value = '';

        setTimeout(() => {
            if(val.toLowerCase().includes("kod") || val.toLowerCase().includes("yaz") || val.toLowerCase().includes("yap")) {
                addMessage('ai', val, true);
            } else {
                addMessage('ai', "Seni anlıyorum. Eğer kod yazdırmak istersen dil belirterek (Python, JS vb.) sorabilirsin.");
            }
        }, 600);
    }

    send.onclick = handle;
    input.onkeypress = (e) => { if(e.key === 'Enter') handle(); };
</script>

</body>
</html>
