<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>BilalAI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --bg: #0f172a;
  --panel: #111827;
  --border: #1f2937;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --accent: #3b82f6;
  --code: #020617;
}
* { box-sizing: border-box; font-family: system-ui, sans-serif; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  height: 100vh;
  display: flex;
}
aside {
  width: 260px;
  background: var(--panel);
  border-right: 1px solid var(--border);
  padding: 16px;
}
aside h1 {
  font-size: 20px;
  margin: 0 0 16px;
}
aside button {
  width: 100%;
  padding: 10px;
  margin-bottom: 8px;
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
  cursor: pointer;
}
aside button.active {
  background: var(--accent);
}
main {
  flex: 1;
  display: flex;
  flex-direction: column;
}
#chat {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}
.msg {
  max-width: 800px;
  margin-bottom: 16px;
}
.user { color: #60a5fa; }
.ai { color: #a7f3d0; }
.code {
  background: var(--code);
  border: 1px solid var(--border);
  padding: 12px;
  border-radius: 6px;
  position: relative;
  margin-top: 8px;
  white-space: pre;
  overflow-x: auto;
}
.copy {
  position: absolute;
  top: 6px;
  right: 6px;
  background: var(--accent);
  border: none;
  color: #fff;
  font-size: 12px;
  padding: 4px 8px;
  cursor: pointer;
}
#input {
  display: flex;
  padding: 16px;
  border-top: 1px solid var(--border);
}
#input input {
  flex: 1;
  padding: 12px;
  background: #020617;
  border: 1px solid var(--border);
  color: var(--text);
}
#input button {
  padding: 12px 20px;
  background: var(--accent);
  border: none;
  color: #fff;
  cursor: pointer;
}
canvas {
  margin-top: 10px;
  border: 1px solid var(--border);
}
</style>
</head>
<body>

<aside>
  <h1>BilalAI</h1>
  <button class="active" onclick="setMode('chat')">ðŸ’¬ Sohbet</button>
  <button onclick="setMode('code')">ðŸ’» Kod</button>
  <button onclick="setMode('image')">ðŸ–¼ GÃ¶rsel</button>
</aside>

<main>
  <div id="chat"></div>
  <div id="input">
    <input id="prompt" placeholder="BilalAI'ye yaz..." />
    <button onclick="send()">GÃ¶nder</button>
  </div>
</main>

<script>
let mode = "chat";
const chat = document.getElementById("chat");

function setMode(m) {
  mode = m;
  document.querySelectorAll("aside button").forEach(b => b.classList.remove("active"));
  event.target.classList.add("active");
  addAI("Mod deÄŸiÅŸtirildi: " + (m === "chat" ? "Sohbet" : m === "code" ? "Kod" : "GÃ¶rsel"));
}

function addUser(text) {
  const div = document.createElement("div");
  div.className = "msg user";
  div.textContent = "Sen: " + text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function addAI(text) {
  const div = document.createElement("div");
  div.className = "msg ai";
  div.textContent = "BilalAI: " + text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function addCode(code) {
  const wrap = document.createElement("div");
  wrap.className = "msg ai";
  wrap.innerHTML = `BilalAI:<div class="code"><button class="copy">Kopyala</button>${code}</div>`;
  wrap.querySelector(".copy").onclick = () => {
    navigator.clipboard.writeText(code);
    alert("KopyalandÄ±");
  };
  chat.appendChild(wrap);
  chat.scrollTop = chat.scrollHeight;
}

function addImage(prompt) {
  const canvas = document.createElement("canvas");
  canvas.width = 512;
  canvas.height = 512;
  const ctx = canvas.getContext("2d");

  ctx.fillStyle = "#020617";
  ctx.fillRect(0,0,512,512);
  ctx.fillStyle = "#3b82f6";
  ctx.font = "20px sans-serif";
  ctx.fillText("BilalAI GÃ¶rsel", 20, 40);
  ctx.fillStyle = "#e5e7eb";
  wrapText(ctx, prompt, 20, 80, 470, 26);

  const wrap = document.createElement("div");
  wrap.className = "msg ai";
  wrap.textContent = "BilalAI:";
  wrap.appendChild(canvas);
  chat.appendChild(wrap);
}

function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
  const words = text.split(" ");
  let line = "";
  for (let n = 0; n < words.length; n++) {
    const testLine = line + words[n] + " ";
    const metrics = ctx.measureText(testLine);
    if (metrics.width > maxWidth && n > 0) {
      ctx.fillText(line, x, y);
      line = words[n] + " ";
      y += lineHeight;
    } else line = testLine;
  }
  ctx.fillText(line, x, y);
}

function send() {
  const input = document.getElementById("prompt");
  const text = input.value.trim();
  if (!text) return;
  addUser(text);
  input.value = "";

  setTimeout(() => {
    if (mode === "chat") {
      addAI("Sorunu anladÄ±m. Bu bir BilalAI simÃ¼lasyonudur. MantÄ±klÄ± ve tutarlÄ± cevap Ã¼retirim.");
    }
    if (mode === "code") {
      addCode(`<!DOCTYPE html>
<html>
<head><title>Ã–rnek</title></head>
<body>
<h1>BilalAI Kod Ã–rneÄŸi</h1>
</body>
</html>`);
    }
    if (mode === "image") {
      addImage(text);
    }
  }, 400);
}
</script>

</body>
</html>
