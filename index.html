<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BilalAİ - Gerçek Zeka</title>
    <style>
        :root { --bg: #0b0b0d; --chat-bg: #131314; --accent: #4b90ff; --text: #e3e3e3; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; display: flex; height: 100vh; }
        #sidebar { width: 280px; background: #1e1f20; padding: 25px; border-right: 1px solid #333; display: flex; flex-direction: column; }
        #main { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        #chat { flex: 1; overflow-y: auto; padding: 40px 10%; scroll-behavior: smooth; }
        
        .msg { display: flex; gap: 20px; margin-bottom: 30px; animation: fadeIn 0.4s ease; }
        .avatar { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0; }
        .ai-av { background: linear-gradient(135deg, #4b90ff, #ff5546); }
        .user-av { background: #555; }
        
        .content { line-height: 1.6; font-size: 16px; width: 100%; }
        
        /* KOD BLOĞU */
        .code-box { background: #000; border-radius: 12px; margin: 15px 0; border: 1px solid #444; position: relative; }
        .code-header { background: #2b2d2e; padding: 10px 20px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center; font-size: 13px; }
        .copy-btn { background: #4b90ff; border: none; color: white; padding: 5px 12px; border-radius: 6px; cursor: pointer; font-size: 12px; }
        pre { margin: 0; padding: 20px; overflow-x: auto; color: #a8ff60; font-family: 'Fira Code', monospace; }

        /* GÖRSEL */
        .ai-img { max-width: 100%; border-radius: 15px; margin-top: 15px; border: 2px solid #333; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }

        .input-container { padding: 30px 10%; background: var(--bg); }
        .input-wrapper { background: #1e1f20; border-radius: 30px; display: flex; padding: 10px 25px; border: 1px solid #444; transition: 0.3s; }
        .input-wrapper:focus-within { border-color: var(--accent); box-shadow: 0 0 15px rgba(75,144,255,0.2); }
        input { flex: 1; background: none; border: none; color: white; padding: 15px; outline: none; font-size: 16px; }
        #send { background: none; border: none; color: var(--accent); cursor: pointer; font-size: 26px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div id="sidebar">
    <h1 style="background: linear-gradient(to right, #4b90ff, #ff5546); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">BilalAİ v4</h1>
    <p style="font-size: 14px; opacity: 0.7;">Gerçek Zamanlı İşlem Motoru</p>
    <div style="margin-top: auto; font-size: 12px; color: #666;">© 2026 BilalAİ Labs</div>
</div>

<div id="main">
    <div id="chat">
        <div class="msg">
            <div class="avatar ai-av">B</div>
            <div class="content">Sistemler aktif. Ben BilalAİ. <br>Bana herhangi bir görev ver: Kod yazdır, analiz yaptır veya hayalindeki bir görseli anlat. Seni dinliyorum.</div>
        </div>
    </div>

    <div class="input-container">
        <div class="input-wrapper">
            <input type="text" id="userInput" placeholder="Mesajınızı buraya yazın..." autocomplete="off">
            <button id="send">➤</button>
        </div>
    </div>
</div>

<script>
    const chat = document.getElementById('chat');
    const input = document.getElementById('userInput');
    const send = document.getElementById('send');

    // GELİŞMİŞ ZEKA MOTORU
    const BilalEngine = {
        analyze(text) {
            const t = text.toLowerCase();
            if (t.includes("kod") || t.includes("yazılım") || t.includes("program") || t.includes("yaz")) return "CODE";
            if (t.includes("resim") || t.includes("çiz") || t.includes("görsel") || t.includes("fotoğraf")) return "IMAGE";
            return "CHAT";
        },
        
        generateCode(userPrompt) {
            const p = userPrompt.toLowerCase();
            let lang = "javascript";
            let code = "";

            if (p.includes("python")) {
                lang = "python";
                code = `def bilal_ai_robot():\n    print("BilalAİ Python Modu Aktif")\n    kullanici = "${userPrompt.split(' ').pop()}"\n    return f"Girdi analizi: {kullanici}"\n\nprint(bilal_ai_robot())`;
            } else if (p.includes("html") || p.includes("web")) {
                lang = "html";
                code = `<!DOCTYPE html>\n<div class="bilal-card">\n   <h2>BilalAİ Tarafından Oluşturuldu</h2>\n   <p>İstek: ${userPrompt}</p>\n</div>`;
            } else {
                code = `// BilalAİ Algoritması\nconst data = ["Zeka", "Kod", "Hız"];\nconsole.log("Sistem durumu: %100");\n// İstek içeriği: ${userPrompt}`;
            }
            return { lang, code };
        }
    };

    function copyToClipboard(text, btn) {
        navigator.clipboard.writeText(text);
        btn.innerText = "Kopyalandı!";
        setTimeout(() => btn.innerText = "Kopyala", 2000);
    }

    function addMessage(type, data) {
        const div = document.createElement('div');
        div.className = 'msg';
        const avatar = type === 'ai' ? '<div class="avatar ai-av">B</div>' : '<div class="avatar user-av">S</div>';
        
        let body = `<div class="content">${data}</div>`;
        
        div.innerHTML = avatar + body;
        chat.appendChild(div);
        chat.scrollTop = chat.scrollHeight;
    }

    function handleAction() {
        const prompt = input.value.trim();
        if (!prompt) return;

        addMessage('user', prompt);
        input.value = '';

        setTimeout(() => {
            const mode = BilalEngine.analyze(prompt);

            if (mode === "CODE") {
                const res = BilalEngine.generateCode(prompt);
                const codeHtml = `
                    İşte senin için yazdığım özel kod yapısı:
                    <div class="code-box">
                        <div class="code-header"><span>${res.lang.toUpperCase()}</span> <button class="copy-btn" onclick="copyToClipboard(\`${res.code}\`, this)">Kopyala</button></div>
                        <pre><code>${res.code}</code></pre>
                    </div>`;
                addMessage('ai', codeHtml);
            } else if (mode === "IMAGE") {
                const imgUrl = `https://picsum.photos/seed/${Math.random()}/1080/720`;
                addMessage('ai', `İstediğin görseli nöral ağlarımda oluşturdum: <br> <img src="${imgUrl}" class="ai-img">`);
            } else {
                addMessage('ai', `Seni çok iyi anlıyorum. İstediğin "${prompt}" konusu üzerine derinlemesine düşündüm. BilalAİ olarak sana en kaliteli yanıtı vermek için buradayım. Başka bir şey yapalım mı?`);
            }
        }, 800);
    }

    send.onclick = handleAction;
    input.onkeyup = (e) => { if (e.key === "Enter") handleAction(); };
</script>

</body>
</html>
